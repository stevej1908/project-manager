# ============================================
# PROJECT MANAGER - ENVIRONMENT VARIABLES
# ============================================
# This file contains ALL environment variables used in the Project Manager app.
# Copy this file to .env and .env.local for your specific environment.
#
# Environments:
# - development: Local development on localhost
# - test: Automated testing environment (Vercel)
# - staging: UAT environment (Vercel)
# - production: Live production environment (Vercel)

# ============================================
# FRONTEND ENVIRONMENT VARIABLES (React)
# ============================================
# Note: React environment variables must start with REACT_APP_
# These are used in the frontend React application

# API URL for frontend to connect to backend
# Local development:
REACT_APP_API_URL=http://localhost:5000
# TEST environment example:
# REACT_APP_API_URL=https://project-manager-api-test.vercel.app
# STAGING environment example:
# REACT_APP_API_URL=https://project-manager-api-staging.vercel.app
# PRODUCTION environment example:
# REACT_APP_API_URL=https://project-manager-api.vercel.app

# Optional: Sentry DSN for frontend error tracking
# REACT_APP_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# REACT_APP_ENVIRONMENT=development

# ============================================
# DATABASE CONFIGURATION (Backend)
# ============================================

# Local Development Database (PostgreSQL on localhost)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=project_manager
DB_USER=postgres
DB_PASSWORD=your_password_here

# Cloud Postgres (for Vercel/production deployment)
# Option 1: Neon (Free tier - RECOMMENDED for TEST/STAGING)
# DATABASE_URL=postgresql://username:password@ep-xxx-xxx.region.aws.neon.tech/dbname?sslmode=require
#
# Option 2: Vercel Postgres (Paid - ~$0.10/day)
# DATABASE_URL=postgres://username:password@host:port/database
#
# Option 3: Supabase (Free tier available)
# DATABASE_URL=postgresql://postgres:password@db.xxx.supabase.co:5432/postgres
#
# Your server code automatically uses DATABASE_URL if set,
# otherwise falls back to individual DB_* variables above

# ============================================
# SERVER CONFIGURATION
# ============================================

PORT=5000
NODE_ENV=development

# Environment types: development | test | staging | production
# Used for conditional logic (e.g., logging, error handling)

# ============================================
# AUTHENTICATION & SECURITY
# ============================================

# JWT Secret (for authentication tokens)
# IMPORTANT: Generate a strong random string for production
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your_jwt_secret_here_change_in_production

# JWT Expiration
JWT_EXPIRATION=7d
# Options: 1h, 24h, 7d, 30d

# Session Secret (if using express-session)
SESSION_SECRET=your_session_secret_here

# CORS Allowed Origins (comma-separated)
# Local development:
CORS_ORIGINS=http://localhost:3000
# Multiple origins example:
# CORS_ORIGINS=http://localhost:3000,https://project-manager-test.vercel.app,https://project-manager.vercel.app

# ============================================
# GOOGLE OAUTH CONFIGURATION
# ============================================

# Google Cloud Console Credentials
# Get these from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# OAuth Redirect URI
# Local development:
GOOGLE_REDIRECT_URI=http://localhost:5000/api/auth/google/callback
# TEST environment example:
# GOOGLE_REDIRECT_URI=https://project-manager-api-test.vercel.app/api/auth/google/callback
# STAGING environment example:
# GOOGLE_REDIRECT_URI=https://project-manager-api-staging.vercel.app/api/auth/google/callback
# PRODUCTION environment example:
# GOOGLE_REDIRECT_URI=https://project-manager-api.vercel.app/api/auth/google/callback

# Google API Scopes (do not change unless you know what you're doing)
GOOGLE_SCOPES=https://www.googleapis.com/auth/userinfo.email,https://www.googleapis.com/auth/userinfo.profile,https://www.googleapis.com/auth/contacts.readonly,https://www.googleapis.com/auth/drive.file,https://www.googleapis.com/auth/gmail.readonly

# Frontend URL (for OAuth redirect after authentication)
# Local development:
FRONTEND_URL=http://localhost:3000
# TEST environment example:
# FRONTEND_URL=https://project-manager-test.vercel.app
# STAGING environment example:
# FRONTEND_URL=https://project-manager-staging.vercel.app
# PRODUCTION environment example:
# FRONTEND_URL=https://project-manager.vercel.app

# ============================================
# FILE UPLOADS & STORAGE
# ============================================

# File Upload Settings
FILE_UPLOAD_MAX_SIZE=10485760
# 10485760 bytes = 10MB (default max file size)

FILE_UPLOAD_ALLOWED_TYPES=image/jpeg,image/jpg,image/png,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document
# Comma-separated list of allowed MIME types

FILE_STORAGE_PATH=./uploads
# Path where uploaded files are stored (relative to server directory)
# For production, consider using cloud storage (S3, GCS, etc.)

# ============================================
# LOGGING & MONITORING
# ============================================

# Log Level (error, warn, info, debug)
LOG_LEVEL=info
# Use 'debug' for development, 'info' for production

# Enable Query Logging (logs all SQL queries)
LOG_QUERIES=false
# Set to true for debugging database issues

# Sentry Error Tracking (Backend)
# Get DSN from: https://sentry.io
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# SENTRY_ENVIRONMENT=development
# SENTRY_TRACES_SAMPLE_RATE=1.0

# ============================================
# RATE LIMITING & SECURITY
# ============================================

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
# 900000 ms = 15 minutes

RATE_LIMIT_MAX_REQUESTS=100
# Max requests per window per IP

# Security Headers (Helmet.js configuration)
ENABLE_SECURITY_HEADERS=true

# Content Security Policy
CSP_ENABLED=true

# ============================================
# EMAIL CONFIGURATION (Optional)
# ============================================
# For notifications, password resets, etc.

# Email Service (SMTP)
# For Gmail: smtp.gmail.com
# For SendGrid: smtp.sendgrid.net
# For Mailgun: smtp.mailgun.org
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
# Set to true for port 465, false for port 587

EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_app_password_here
# For Gmail, use an App Password: https://support.google.com/accounts/answer/185833

EMAIL_FROM=noreply@projectmanager.app
# The "from" address for outgoing emails

# Email Features (enable/disable)
EMAIL_NOTIFICATIONS_ENABLED=false
# Set to true to enable email notifications

# ============================================
# VERCEL DEPLOYMENT VARIABLES
# ============================================
# These are automatically set by Vercel, but listed here for reference

# VERCEL=1
# VERCEL_ENV=production
# VERCEL_URL=your-project.vercel.app
# VERCEL_REGION=iad1

# ============================================
# TESTING CONFIGURATION
# ============================================

# Test Database (separate from development)
# TEST_DATABASE_URL=postgresql://username:password@localhost:5432/project_manager_test

# Playwright Configuration
PLAYWRIGHT_HEADLESS=true
# Set to false to see browser during E2E tests

PLAYWRIGHT_BASE_URL=http://localhost:3000
# Base URL for E2E tests

# Test User Credentials (for E2E tests)
TEST_USER_EMAIL=test@example.com
TEST_USER_PASSWORD=testpassword123

# Mock OAuth in tests
MOCK_OAUTH_IN_TESTS=true

# ============================================
# FEATURE FLAGS (Optional)
# ============================================
# Enable/disable features per environment

# Enable Gantt chart feature
FEATURE_GANTT_ENABLED=true

# Enable Gmail integration
FEATURE_GMAIL_ENABLED=true

# Enable Drive integration
FEATURE_DRIVE_ENABLED=true

# Enable project sharing
FEATURE_SHARING_ENABLED=true

# ============================================
# PERFORMANCE & CACHING
# ============================================

# Enable response caching
ENABLE_CACHING=false

# Cache TTL (time to live) in seconds
CACHE_TTL=300
# 300 seconds = 5 minutes

# Database connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10

# ============================================
# ANALYTICS (Optional)
# ============================================

# Google Analytics
# GA_TRACKING_ID=G-XXXXXXXXXX

# Vercel Analytics (automatically enabled in Vercel projects)
# VERCEL_ANALYTICS_ID=your_analytics_id

# ============================================
# BACKUP & MAINTENANCE
# ============================================

# Database Backup Settings
# BACKUP_ENABLED=false
# BACKUP_FREQUENCY_HOURS=24
# BACKUP_RETENTION_DAYS=30

# Maintenance Mode
# MAINTENANCE_MODE=false
# MAINTENANCE_MESSAGE=We'll be back soon! Scheduled maintenance in progress.

# ============================================
# THIRD-PARTY INTEGRATIONS (Future)
# ============================================

# Slack Integration
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/yyy/zzz
# SLACK_BOT_TOKEN=xoxb-your-bot-token

# Stripe Payment Integration
# STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
# STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Twilio SMS Notifications
# TWILIO_ACCOUNT_SID=your_twilio_account_sid
# TWILIO_AUTH_TOKEN=your_twilio_auth_token
# TWILIO_PHONE_NUMBER=+1234567890

# ============================================
# DEVELOPMENT TOOLS
# ============================================

# Enable Debug Mode
DEBUG=false

# Enable Hot Reload
HOT_RELOAD=true

# Enable Source Maps
GENERATE_SOURCEMAP=true
# Set to false in production to reduce bundle size

# Webpack Bundle Analyzer
ANALYZE_BUNDLE=false

# ============================================
# ENVIRONMENT-SPECIFIC EXAMPLES
# ============================================

# -------------------
# LOCAL DEVELOPMENT
# -------------------
# NODE_ENV=development
# DATABASE_URL=postgresql://postgres:password@localhost:5432/project_manager
# FRONTEND_URL=http://localhost:3000
# REACT_APP_API_URL=http://localhost:5000
# GOOGLE_REDIRECT_URI=http://localhost:5000/api/auth/google/callback
# LOG_LEVEL=debug
# LOG_QUERIES=true

# -------------------
# TEST ENVIRONMENT (Vercel)
# -------------------
# NODE_ENV=test
# DATABASE_URL=postgresql://neon_user:password@ep-xxx.us-east-2.aws.neon.tech/project_manager_test?sslmode=require
# FRONTEND_URL=https://project-manager-test.vercel.app
# REACT_APP_API_URL=https://project-manager-api-test.vercel.app
# GOOGLE_REDIRECT_URI=https://project-manager-api-test.vercel.app/api/auth/google/callback
# LOG_LEVEL=info
# LOG_QUERIES=false
# SENTRY_ENVIRONMENT=test

# -------------------
# STAGING ENVIRONMENT (Vercel)
# -------------------
# NODE_ENV=staging
# DATABASE_URL=postgresql://neon_user:password@ep-yyy.us-east-2.aws.neon.tech/project_manager_staging?sslmode=require
# FRONTEND_URL=https://project-manager-staging.vercel.app
# REACT_APP_API_URL=https://project-manager-api-staging.vercel.app
# GOOGLE_REDIRECT_URI=https://project-manager-api-staging.vercel.app/api/auth/google/callback
# LOG_LEVEL=info
# LOG_QUERIES=false
# SENTRY_ENVIRONMENT=staging

# -------------------
# PRODUCTION ENVIRONMENT (Vercel)
# -------------------
# NODE_ENV=production
# DATABASE_URL=postgresql://neon_user:password@ep-zzz.us-east-2.aws.neon.tech/project_manager?sslmode=require
# FRONTEND_URL=https://projectmanager.com
# REACT_APP_API_URL=https://api.projectmanager.com
# GOOGLE_REDIRECT_URI=https://api.projectmanager.com/api/auth/google/callback
# LOG_LEVEL=warn
# LOG_QUERIES=false
# SENTRY_DSN=https://xxx@sentry.io/123456
# SENTRY_ENVIRONMENT=production
# EMAIL_NOTIFICATIONS_ENABLED=true

# ============================================
# NOTES
# ============================================
# 1. NEVER commit the actual .env file to Git
# 2. Always use strong, unique values for JWT_SECRET and SESSION_SECRET in production
# 3. Rotate secrets regularly (JWT_SECRET, database passwords, API keys)
# 4. Use environment variables in Vercel Dashboard for deployment secrets
# 5. Keep this .env.example file updated when adding new variables
# 6. Use different Google OAuth credentials for each environment
# 7. Use DATABASE_URL for Vercel deployments (Neon, Vercel Postgres, Supabase)
# 8. Set NODE_ENV correctly for each environment (affects logging, error handling, etc.)
